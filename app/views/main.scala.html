@(title: String, moreHead: Html = Html(""), bodyAttributes: Html = Html(""), htmlAttributes: Html = Html(""))(content: Html)

@import be.objectify.deadbolt.java.views.html._
@import be.objectify.deadbolt.core.utils.TemplateUtils._
@import com.feth.play.module.pa.views.html._

<!DOCTYPE html>
<html lang="@lang().code()" ng-app="sproutupApp" @htmlAttributes>
    <head>
      <title>@title</title>
      <meta name="description" content="SproutUp is a community-oriented marketplace that redefines commerce for emerging products by delivering products to the consumers through a unique set of personalized services">
      <meta name="keywords" content="e-commerce, marketplace, emerging products, crowdfunding, marketing, sharing economy, inventor, early adopter, user feedback, social media">
      <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="@routes.Assets.at("images/favicon.ico")">

        <link rel="stylesheet" href="@routes.Assets.at("library/bootstrap/css/bootstrap.css")">
        <link rel="stylesheet" href="@routes.Assets.at("library/font-awesome/css/font-awesome.css")">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="stylesheet" type="text/css" media="screen" href="@routes.Assets.at("stylesheets/signup-login-modal.css")">


        <!-- flowplayer -->
        <!-- 1. skin -->
        <link rel="stylesheet" href="//releases.flowplayer.org/5.5.2/skin/minimalist.css">
        <!-- 2. jquery library -->
        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <!-- 3. flowplayer -->
        <script src="//releases.flowplayer.org/5.5.2/flowplayer.min.js"></script>
        <script>
            flowplayer.conf.adaptiveRatio = true;
            flowplayer.conf.embed = false;
        </script>

        <script type="text/javascript" src="@routes.Application.jsRoutes" defer="defer"></script>
        <script src="@routes.Assets.at("javascripts/angular.js")"></script>
        <script src="@routes.Assets.at("javascripts/angular-route.js")"></script>
        <script src="@routes.Assets.at("javascripts/angular-resource.js")"></script>
        <script src="@routes.Assets.at("javascripts/ng-tags-input.min.js")"></script>
        <script src="@routes.Assets.at("angular/app.js")"></script>
        <script src="@routes.Assets.at("angular/controllers.js")"></script>
        <script src="@routes.Assets.at("angular/directives.js")"></script>
        <script src="@routes.Assets.at("angular/filters.js")"></script>
        <script src="@routes.Assets.at("angular/services.js")"></script>
        <script src="@routes.Assets.at("library/jquery/jquery.min.js")"></script>
        <script src="@routes.Assets.at("library/bootstrap/js/bootstrap.min.js")"></script>
        <script src="@routes.Assets.at("javascripts/moment.min.js")"></script>
        <script src="@routes.Assets.at("javascripts/ui-bootstrap-tpls-0.12.0.min.js")"></script>
        <script src="@routes.Assets.at("javascripts/angular-ui-router.min.js")"></script>

        <!-- Tooltips -->
        <script>
            $(function () {
                $('[data-toggle="tooltip"]').tooltip()
            })
        </script>



        <!-- Font -->
      <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Lato:100,300,400,700'>

      <!-- start Mixpanel -->
      <script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
      for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
      mixpanel.init("7a6999218cbdf05415a6cd1922748ea5");</script>
      <!-- end Mixpanel -->

      @moreHead

    </head>

    <body @bodyAttributes>

      <div id="fb-root"></div>

      <nav class="navbar navbar-default navbar-fixed-top" role="navigation">

        <div class="navbar-header">
          <a class="navbar-brand" href="@routes.Application.index()" target="_self">
            <img class="logo" src="@routes.Assets.at("images/logo.png")">
          </a>
        </div>

        <div ng-controller="AuthCtrl" class="collapse navbar-collapse navbar-right" id="navbar-collapse-items">
          <ul class="nav navbar-nav navbar-item">
            <li><a href="@routes.Products.main("")" target="_self">Explore Products</a></li>
            <li><a href="@routes.Application.creator()" target="_self">For Creators</a></li>
            <li><a href="http://blog.sproutup.co">Blog</a></li>
            <li><a href="@routes.Application.about()" target="_self" >About</a></li>
            @subjectNotPresent() {
              <li>
                <a ng-click="signup('sm')">Join</a>
              </li>
            }
            @subjectPresentOr() {

              @currentAuth() {auth =>
                @if(auth.getProvider() == "facebook") {
                  <li>
                    <img class="profile-img" src="http://graph.facebook.com/@auth.getId()/picture/?type=large">
                  </li>
                } else {
                  <li>
                    <img class="profile-img" src="@routes.Assets.at("images/general-profile-icon.png")">
                  </li>
                }
              }

                @defining(Application.getLocalUser(session())) { user =>
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">@user.name&nbsp;&nbsp;<i class="fa fa-angle-down"></i></a>
                    <ul class="dropdown-menu" role="menu">
                      <li><a href="@routes.Application.profile()">My Page</a></li>
                      <li><a href="@com.feth.play.module.pa.controllers.routes.Authenticate.logout()"><i class="icon-off"></i> Log Out</a></li>
                    </ul>
                  </li>
                }
            } {
              <li>
                <a href="" ng-click="login('sm')">Log In</a>
              </li>
            }
          </ul>
        </div><!-- /.navbar-collapse -->
      </nav>

      @if(flash.contains(Application.FLASH_ERROR_KEY)) {
        <div class="alert-message">
          <div class="alert alert-danger" role="alert">
              <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">
                  Close</span></button>
              @flash().get(Application.FLASH_ERROR_KEY)
          </div>
        </div>
      }
      @if(flash.contains(Application.FLASH_MESSAGE_KEY)) {
        <div class="alert-message">
          <div class="alert alert-success" role="alert">
              <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">
                  Close</span></button>
              @flash().get(Application.FLASH_MESSAGE_KEY)
          </div>
        </div>
      }

      @content

      <!-- Google Analytics -->
      <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-58001090-1', 'auto');
      ga('send', 'pageview');

      </script>

    </body>

</html>
